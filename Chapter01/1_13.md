# 1.13 마이크로서비스 빌드/배포 패턴

작성자 : 박희선
</br>
</br>
</br>

마이크로서비스 아키텍처의 핵심 부분 중 하나는 한 마이크로서비스의 각 인스턴스가 모두 동일해야 한다는 것 </br>
서버가 배포된 후 서버의 변경 사항으로 발생되는 구성 불일치의 발생을 막아야 한다 </br>
마이크로서비스 빌드/배포 패턴의 목표는 인프라스트럭처 구성을 빌드/배포 프로세스에 통합해서 자바WAR이나 EAR 파일 등 소프트웨어 산출물을 이미 실행 중인 인프라스트럭처에 더 이상 배포하지 않는 것 </br>
👉 그 대신 빌드 프로세스 일부로 수행 중인 마이크로서비스와 가상 서버 이미지를 빌드하고 컴파일 함, 그 다음 마이크로서비스가 배포되면 서버에서 실행 중인 전체 머신 이미지가 배포됨 </br></br>

## 마이크로서비스 빌드/배포 패턴

- 빌드 및 배포 파이프라인 : 조직의 모든 환경에서 원 버튼 클릭 빌드와 배포를 중시하는 반복적인 빌드 및 배포 프로세스를 구축하는 방법
- 코드형 인프라스트럭처 (IaC) : 소스 제어로 실행되고 관리되는 서비스 프로비저닝 처리 방법 </br>
  코드를 작성하고 마이크로서비스에 대한 테스트를 수행 </br>
  인프라스트럭처를 코드로 취급 </br>
  마이크로서비스가 컴파일 및 패키징되면 마이크로서비스가 설치된 가상 서버나 컨테이너 이미지를 바로 생성 </br>
- 불변 서버 : 마이크로서비스 이미지가 생성되고 배포된 후 절대 변경되지 않도록 하는 방법
- 피닉스 서버 : 개별 컨테이너를 실행하는 서버가 정기적으로 분해되어 불변 이미지로 재생성되도록 하는 방법 </br>
  서버가 오래 실행될수록 구성 불일치 발생 가능성이 높아짐 </br>
  구성 불일치는 시스템 구성 정보에 대한 임의적 변경 사항이 기록되지 않을 때 발생함
  </br>
  </br>
  🐡 패턴과 주제의 목표는 구성 불일치가 스테이지나 운영 환경 등 상위 환경에서 발생하지 않도록 사전에 과감히 노출하고 근절하는 것
