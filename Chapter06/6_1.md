# 6.1 서비스 위치 확인
담당자: 윤선경
</br>
</br>
</br>

애플리케이션이 여러 서버에 분산된 자원을 호출할 경우 자원들의 물리적 위치를 알고 있어야 한다.</br>
클라우드가 아닌 환경에서 서비스 위치 확인은 대개 DNS + 네트워크 로드밸런서 조합으로 해결!

-> 전통적인 시나리오에서 애플리케이션은 조직의 다른 부분에 위치한 서비스를 호출해야 할 때, 서비스의 고유 경로와 일반적인 DNS 이름을 사용해서 호출

호출 과정 p212 참고
1. 애플리케이션은 범용 DNS와 서비스별 경로를 사용하여 서비스 호출
2. 로드 밸런서는 서비스를 호스팅하는 서버의 물리적 위치를 찾는다
보조 로드 밸런서는 주 로드 밸런서 상태를 확인하면서 필요하면 교체한다.

이러한 기존 방식은 사방이 벽으로 둘러쌓인 회사 데이터 센터 안에서 실행되는 애플리케이션과 고정적인 서버에서 실행되는 비교적 적은 수의 서비스에서는 잘 동작하나
클라우드 기반의 마이크로 서비스 애플리케이션에서는 잘 동작하지 않는다.
</br>
</br>

|기존 방식이 클라우드 기반의 마이크로 서비스 애플리케이션에서 동작이 어려운 이유|
|:--|
|고가용성 로드 밸런서를 만들 수 있더라도 전체 인프라스트락처에서 보면 단일 장애 지점이다|
|서비스를 하나의 로드 밸런서 클러스터에 집중시키면 여러 서버에 부하를 분산하는 인프라스트럭처의 수평 확장 능력이 제한된다|
|전통적인 로드 밸런서 대부분은 고정적으로 관리된다|
|로드 밸런서가 프록시 역할을 하므로 서비스 소비자 요청은 물리적 서비스에 매핑되어야 한다</br> * 수동으로 서비스 매핑 규칙을 정의하고 배포해야 한다|

⭐ 로드밸런서는 중앙 집중식 네트워크 인프라스트럭처로 처리할 수 있는 대부분의 애플리케이션 크기와 규모를 가진 기업환경에서 잘 작동한다. (로드밸런서가 나쁘다X)</br>
  로드밸런서는 SSL 종료를 처리하고 서비스 포트 보안을 관리하는 데 중요한 역할을 하고 뒷단의 모든 서버에 대한 들러오고 나가는 포트의 접근을 제한할 수도 있다.
</br>
</br>
  
하지만 **로드밸런서는 대규모 트랜잭션과 이중화를 처리해야 하는 클라우드에서는 중앙 집중식 네트워크 인프라스트럭처는 효율적으로 확장되지도 않고 비용 효율도 낮아서 제대로 작동하지 않는다**
   
